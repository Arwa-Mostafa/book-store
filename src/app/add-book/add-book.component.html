<div class="container">
  <h1 class="text-center my-4">Add Book</h1>
  
  <div class="row align-items-center">
    <div class="col-md-6 text-center">
      <img src="../../assets/img/bac.jpg" alt="Book Cover" class="img-fluid w-75 shadow rounded">
    </div>

    <div class="col-md-6">
      <form [formGroup]="bookForm" (ngSubmit)="onSubmit()" class="p-4 shadow rounded bg-white">
        <div class="form-group mb-3">
          <label for="title" class="f">Book title</label>
          <input type="text" id="title" class="form-control" formControlName="title"
                 [ngClass]="{'is-invalid': submitted && f['title'].errors}">
          <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
            <small *ngIf="f['title'].errors?.['required']">Title is required.</small>
            <small *ngIf="f['title'].errors?.['minlength']">Title must be at least 3 characters.</small>
            <small *ngIf="f['title'].errors?.['pattern']">Only letters and spaces are allowed.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="author" class="f">Author name</label>
          <input type="text" id="author" class="form-control" formControlName="author"
                 [ngClass]="{'is-invalid': submitted && f['author'].errors}">
          <div *ngIf="submitted && f['author'].errors" class="invalid-feedback">
            <small *ngIf="f['author'].errors?.['required']">Author is required.</small>
            <small *ngIf="f['author'].errors?.['minlength']">Author must be at least 3 characters.</small>
            <small *ngIf="f['author'].errors?.['pattern']">Only letters and spaces are allowed.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="genre" class="f">Genre</label>
          <input type="text" id="genre" class="form-control" formControlName="genre"
                 [ngClass]="{'is-invalid': submitted && f['genre'].errors}">
          <div *ngIf="submitted && f['genre'].errors" class="invalid-feedback">
            <small *ngIf="f['genre'].errors?.['required']">Genre is required.</small>
          </div>
        </div>

        <button type="submit" class="btn btn-primary d-block mx-auto w-25  ">Add</button>
      </form>
      
      

      <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
    </div>
  </div>
</div>

 <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-white primary">
        <h5 class="modal-title fw-bold text-dark" id="successModalLabel">Success</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

      
      </div>
      <div class="modal-body">
        Book added successfully !
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="navigateToList()">OK</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="errorModalLabel">Error</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        {{ errorMessage }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
